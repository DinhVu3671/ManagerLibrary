{"ast":null,"code":"var _jsxFileName = \"E:\\\\20212\\\\Project\\\\online-shopping\\\\client\\\\src\\\\components\\\\loginForm.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useRef, useState, useEffect, useContext } from 'react';\nimport clsx from 'clsx';\nimport styles from './CSS/LoginFormCSS.module.scss';\nimport logoImage from '../assets/logo-design.png';\nimport AuthContext from './authProvider';\nimport axios from '../config/axios';\nimport Snackbar from '@mui/material/Snackbar';\nimport MuiAlert from '@mui/material/Alert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Alert = /*#__PURE__*/React.forwardRef(_c = function Alert(props, ref) {\n  return /*#__PURE__*/_jsxDEV(MuiAlert, {\n    elevation: 6,\n    ref: ref,\n    variant: \"filled\",\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 10\n  }, this);\n});\n_c2 = Alert;\n\nfunction LoginForm(props) {\n  _s();\n\n  const role = props.role; //console.log(role);\n\n  const [open, setOpen] = useState(false);\n  const LOGIN_URL = `/api/v1/${role}/login`;\n  const {\n    setAuth\n  } = useContext(AuthContext);\n  const userRef = useRef();\n  const errRef = useRef();\n  const [user, setUser] = useState('');\n  const [pwd, setPwd] = useState('');\n  const [errMsg, setErrMsg] = useState('');\n  const [success, setSuccess] = useState(false);\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    setErrMsg('');\n  }, [user, pwd]);\n  useEffect(() => {\n    let r = '';\n\n    if (role === 'customer') {\n      r = 'khách hàng';\n    }\n\n    if (role === 'shopper') {\n      r = 'người bán hàng';\n    }\n\n    if (role === 'admin') {\n      r = 'admin';\n    }\n\n    setErrMsg(`Bạn đang đăng nhập với vai trò ${r}`);\n  }, [role]);\n  useEffect(() => {\n    if (errMsg !== '') setOpen(true);\n  }, [errMsg]);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      const response = await axios.post(LOGIN_URL, JSON.stringify({\n        email: user,\n        password: pwd\n      }), {\n        headers: {\n          'Content-Type': 'application/json'\n        } // withCredentials: true,\n\n      });\n      console.log(JSON.stringify(response === null || response === void 0 ? void 0 : response.data));\n      console.log(JSON.stringify(response));\n\n      if (response.data.status === 2) {\n        setErrMsg('Tên đăng nhập hoặc mật khẩu không đúng.');\n        setOpen(true);\n      } else {\n        var _response$data;\n\n        const accessToken = response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.token;\n        setAuth({\n          user,\n          pwd,\n          role,\n          accessToken\n        });\n        setUser('');\n        setPwd('');\n        setSuccess(true);\n      }\n    } catch (err) {\n      var _err$response, _err$response2;\n\n      if (!(err !== null && err !== void 0 && err.response)) {\n        setErrMsg('No Server Response');\n        setOpen(true);\n      } else if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 400) {\n        setErrMsg('Missing email or Password');\n      } else if (((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 401) {\n        setErrMsg('Email hoặc mật khẩu không đúng.');\n        setOpen(true);\n      } else {\n        setErrMsg('Đăng nhập thất bại.');\n        setOpen(true);\n      }\n\n      errRef.current.focus();\n    }\n  };\n\n  return success ? /*#__PURE__*/_jsxDEV(\"h2\", {\n    children: \"Return home \"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: clsx(styles.loginContainer, styles.row),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: errRef,\n      className: errMsg ? clsx(styles.snackbar, styles.show) : clsx(styles.snackbar, styles.offscreen),\n      \"aria-live\": \"assertive\",\n      children: /*#__PURE__*/_jsxDEV(Snackbar, {\n        open: open,\n        autoHideDuration: 2000,\n        onClose: handleClose,\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          onClose: handleClose,\n          severity: \"error\",\n          sx: {\n            width: '100%'\n          },\n          children: errMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: clsx(styles.loginLogo, styles.col),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: clsx(styles.imgContainer),\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: styles.logo,\n          src: logoImage,\n          alt: \"logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: clsx(styles.logoTitle),\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: styles.title,\n          children: \"N\\u1EC1n t\\u1EA3ng th\\u01B0\\u01A1ng m\\u1EA1i \\u0111i\\u1EC7n t\\u1EED h\\xE0ng \\u0111\\u1EA7u Vi\\u1EC7t Nam.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: clsx(styles.col, styles.loginForm),\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        className: clsx(styles.row),\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: clsx(styles.formTitle, styles.row),\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: clsx(styles.title),\n            children: \" \\u0110\\u0103ng nh\\u1EADp \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), role === 'customer' && /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/shopper/login\",\n            children: \"B\\u1EA1n l\\xE0 ng\\u01B0\\u1EDDi b\\xE1n h\\xE0ng?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }, this), role === 'shopper' && /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/customer/login\",\n            children: \"B\\u1EA1n l\\xE0 ng\\u01B0\\u1EDDi mua h\\xE0ng?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: clsx(styles.formField, styles.row),\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            className: clsx(styles.formLabel, styles.row),\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"email\",\n            ref: userRef,\n            autoComplete: \"off\",\n            onChange: e => setUser(e.target.value),\n            value: user,\n            type: \"text\",\n            className: clsx(styles.formInput, styles.row),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: clsx(styles.formField, styles.row),\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            className: clsx(styles.formLabel, styles.row),\n            children: \"M\\u1EADt kh\\u1EA9u:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"password\",\n            autoComplete: \"off\",\n            onChange: e => setPwd(e.target.value),\n            value: pwd,\n            type: \"password\",\n            className: clsx(styles.formInput, styles.row),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          value: \"Submit\",\n          type: \"submit\",\n          className: clsx(styles.row, styles.btn, styles.primary),\n          children: \"\\u0110\\u0102NG NH\\u1EACP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), role === 'admin' || /*#__PURE__*/_jsxDEV(\"div\", {\n        className: clsx(styles.formFooter, styles.row),\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          className: clsx(styles.col),\n          children: \"Qu\\xEAn m\\u1EADt kh\\u1EA9u?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this), props.role === 'customer' && /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Ch\\u01B0a c\\xF3 t\\xE0i kho\\u1EA3n?\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/customer/register\",\n            className: clsx(styles.col),\n            children: \"\\u0110\\u0103ng k\\xFD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 17\n          }, this), ' ', \"ngay.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 15\n        }, this), role === 'shopper' && /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/shopper/register\",\n          className: clsx(styles.col),\n          children: \"Tr\\u1EDF th\\xE0nh ng\\u01B0\\u1EDDi b\\xE1n h\\xE0ng?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LoginForm, \"TaaHq+igcnuGSbaWU3GiJ/FdvZs=\");\n\n_c3 = LoginForm;\nexport default LoginForm;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Alert$React.forwardRef\");\n$RefreshReg$(_c2, \"Alert\");\n$RefreshReg$(_c3, \"LoginForm\");","map":{"version":3,"names":["React","Link","useRef","useState","useEffect","useContext","clsx","styles","logoImage","AuthContext","axios","Snackbar","MuiAlert","Alert","forwardRef","props","ref","LoginForm","role","open","setOpen","LOGIN_URL","setAuth","userRef","errRef","user","setUser","pwd","setPwd","errMsg","setErrMsg","success","setSuccess","handleClose","event","reason","r","handleSubmit","e","preventDefault","response","post","JSON","stringify","email","password","headers","console","log","data","status","accessToken","token","err","current","focus","loginContainer","row","snackbar","show","offscreen","width","loginLogo","col","imgContainer","logo","logoTitle","title","loginForm","formTitle","formField","formLabel","target","value","formInput","btn","primary","formFooter"],"sources":["E:/20212/Project/online-shopping/client/src/components/loginForm.js"],"sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useRef, useState, useEffect, useContext } from 'react';\r\nimport clsx from 'clsx';\r\nimport styles from './CSS/LoginFormCSS.module.scss';\r\nimport logoImage from '../assets/logo-design.png';\r\nimport AuthContext from './authProvider';\r\n\r\nimport axios from '../config/axios';\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport MuiAlert from '@mui/material/Alert';\r\n\r\nconst Alert = React.forwardRef(function Alert(props, ref) {\r\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n});\r\n\r\nfunction LoginForm(props) {\r\n  const role = props.role;\r\n  //console.log(role);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const LOGIN_URL = `/api/v1/${role}/login`;\r\n  const { setAuth } = useContext(AuthContext);\r\n  const userRef = useRef();\r\n  const errRef = useRef();\r\n\r\n  const [user, setUser] = useState('');\r\n  const [pwd, setPwd] = useState('');\r\n  const [errMsg, setErrMsg] = useState('');\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setErrMsg('');\r\n  }, [user, pwd]);\r\n\r\n  useEffect(() => {\r\n    let r = '';\r\n    if (role === 'customer') {\r\n      r = 'khách hàng';\r\n    }\r\n    if (role === 'shopper') {\r\n      r = 'người bán hàng';\r\n    }\r\n    if (role === 'admin') {\r\n      r = 'admin';\r\n    }\r\n\r\n    setErrMsg(`Bạn đang đăng nhập với vai trò ${r}`);\r\n  }, [role]);\r\n\r\n  useEffect(() => {\r\n    if (errMsg !== '') setOpen(true);\r\n  }, [errMsg]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await axios.post(\r\n        LOGIN_URL,\r\n        JSON.stringify({ email: user, password: pwd }),\r\n        {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          // withCredentials: true,\r\n        }\r\n      );\r\n      console.log(JSON.stringify(response?.data));\r\n      console.log(JSON.stringify(response));\r\n      if (response.data.status === 2) {\r\n        setErrMsg('Tên đăng nhập hoặc mật khẩu không đúng.');\r\n        setOpen(true);\r\n      } else {\r\n        const accessToken = response?.data?.token;\r\n        setAuth({ user, pwd, role, accessToken });\r\n        setUser('');\r\n        setPwd('');\r\n        setSuccess(true);\r\n      }\r\n    } catch (err) {\r\n      if (!err?.response) {\r\n        setErrMsg('No Server Response');\r\n        setOpen(true);\r\n      } else if (err.response?.status === 400) {\r\n        setErrMsg('Missing email or Password');\r\n      } else if (err.response?.status === 401) {\r\n        setErrMsg('Email hoặc mật khẩu không đúng.');\r\n        setOpen(true);\r\n      } else {\r\n        setErrMsg('Đăng nhập thất bại.');\r\n        setOpen(true);\r\n      }\r\n      errRef.current.focus();\r\n    }\r\n  };\r\n\r\n  return success ? (\r\n    <h2>Return home </h2>\r\n  ) : (\r\n    <div className={clsx(styles.loginContainer, styles.row)}>\r\n      <div\r\n        ref={errRef}\r\n        className={\r\n          errMsg\r\n            ? clsx(styles.snackbar, styles.show)\r\n            : clsx(styles.snackbar, styles.offscreen)\r\n        }\r\n        aria-live=\"assertive\"\r\n      >\r\n        <Snackbar open={open} autoHideDuration={2000} onClose={handleClose}>\r\n          <Alert onClose={handleClose} severity=\"error\" sx={{ width: '100%' }}>\r\n            {errMsg}\r\n          </Alert>\r\n        </Snackbar>\r\n      </div>\r\n\r\n      <div className={clsx(styles.loginLogo, styles.col)}>\r\n        <div className={clsx(styles.imgContainer)}>\r\n          <img className={styles.logo} src={logoImage} alt=\"logo\" />\r\n        </div>\r\n        <span className={clsx(styles.logoTitle)}>\r\n          <h1 className={styles.title}>\r\n            Nền tảng thương mại điện tử hàng đầu Việt Nam.\r\n          </h1>\r\n        </span>\r\n      </div>\r\n\r\n      <div className={clsx(styles.col, styles.loginForm)}>\r\n        <form className={clsx(styles.row)} onSubmit={handleSubmit}>\r\n          <div className={clsx(styles.formTitle, styles.row)}>\r\n            <h2 className={clsx(styles.title)}> Đăng nhập </h2>\r\n            {role === 'customer' && (\r\n              <Link to=\"/shopper/login\">Bạn là người bán hàng?</Link>\r\n            )}\r\n            {role === 'shopper' && (\r\n              <Link to=\"/customer/login\">Bạn là người mua hàng?</Link>\r\n            )}\r\n          </div>\r\n          <div className={clsx(styles.formField, styles.row)}>\r\n            <label\r\n              htmlFor=\"email\"\r\n              className={clsx(styles.formLabel, styles.row)}\r\n            >\r\n              Email:\r\n            </label>\r\n            <input\r\n              id=\"email\"\r\n              ref={userRef}\r\n              autoComplete=\"off\"\r\n              onChange={(e) => setUser(e.target.value)}\r\n              value={user}\r\n              type=\"text\"\r\n              className={clsx(styles.formInput, styles.row)}\r\n              required\r\n            />\r\n          </div>\r\n          <div className={clsx(styles.formField, styles.row)}>\r\n            <label\r\n              htmlFor=\"password\"\r\n              className={clsx(styles.formLabel, styles.row)}\r\n            >\r\n              Mật khẩu:\r\n            </label>\r\n            <input\r\n              id=\"password\"\r\n              autoComplete=\"off\"\r\n              onChange={(e) => setPwd(e.target.value)}\r\n              value={pwd}\r\n              type=\"password\"\r\n              className={clsx(styles.formInput, styles.row)}\r\n              required\r\n            />\r\n          </div>\r\n          <button\r\n            value=\"Submit\"\r\n            type=\"submit\"\r\n            className={clsx(styles.row, styles.btn, styles.primary)}\r\n          >\r\n            ĐĂNG NHẬP\r\n          </button>\r\n        </form>\r\n\r\n        {role === 'admin' || (\r\n          <div className={clsx(styles.formFooter, styles.row)}>\r\n            <Link to=\"/\" className={clsx(styles.col)}>\r\n              Quên mật khẩu?\r\n            </Link>\r\n            {props.role === 'customer' && (\r\n              <span>\r\n                Chưa có tài khoản?{' '}\r\n                <Link to=\"/customer/register\" className={clsx(styles.col)}>\r\n                  Đăng ký\r\n                </Link>{' '}\r\n                ngay.\r\n              </span>\r\n            )}\r\n\r\n            {role === 'shopper' && (\r\n              <Link to=\"/shopper/register\" className={clsx(styles.col)}>\r\n                Trở thành người bán hàng?\r\n              </Link>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}